<div class="container mx-auto">
  <button (click)="addPost()" class="bg-blue-500 text-white p-2 rounded">Add Post</button>
  <table class="table-auto w-full mt-4">
    <thead>
      <tr>
        <th class="px-4 py-2">ID</th>
        <th class="px-4 py-2">Title</th>
        <th class="px-4 py-2">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let post of posts">
        <td class="border px-4 py-2">{{ post.id }}</td>
        <td class="border px-4 py-2">{{ post.title }}</td>
        <td class="border px-4 py-2">
          <button (click)="editPost(post)" class="bg-yellow-500 text-white p-2 rounded">Edit</button>
          <button (click)="deletePost(post)" class="bg-red-500 text-white p-2 rounded">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- ComentÃ¡rios associados a cada post -->
  <div *ngFor="let post of posts" class="mt-4">
    <h3 class="text-lg leading-6 font-medium text-gray-900">Comments for Post {{ post.id }}</h3>
    <ul *ngIf="post.comments && post.comments.length > 0; else noComments">
      <li *ngFor="let comment of post.comments" class="border px-4 py-2 mt-2">
        <strong>{{ comment.name }}</strong>: {{ comment.body }}
        <div class="mt-2">
          <button (click)="editComment(comment)" class="bg-yellow-500 text-white p-2 rounded">Edit</button>
          <button (click)="deleteComment(comment)" class="bg-red-500 text-white p-2 rounded">Delete</button>
        </div>
      </li>
    </ul>
    <ng-template #noComments>
      <p>No comments available.</p>
    </ng-template>
    <button (click)="addComment(post.id)" class="bg-blue-500 text-white p-2 rounded mt-2">Add Comment</button>
  </div>

  <app-post-edit *ngIf="selectedPost" [post]="selectedPost" (postUpdated)="onPostUpdated($event)"></app-post-edit>
  <app-comment-edit *ngIf="selectedComment" [comment]="selectedComment" (commentUpdated)="onCommentUpdated($event)"></app-comment-edit>
</div>
